{"ast":null,"code":"var _jsxFileName = \"/home/ngocson/Documents/Pj2 rd/src/components/TaskList.js\";\nimport React, { Component } from 'react';\nimport TaskItem from \"./TaskItem\";\nimport { connect } from 'react-redux';\nimport * as actions from './../actions/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TaskList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = event => {\n      var target = event.target;\n      var name = target.name;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n      var filter = {\n        name: name === 'filterName' ? value : this.state.filterName,\n        status: name === 'filterStatus' ? value : this.state.filterStatus\n      };\n      this.props.onFilterTable(filter);\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      filterName: '',\n      filterStatus: -1 //all :-1, active: 1; deactive:0 \n\n    };\n  }\n\n  render() {\n    var {\n      tasks,\n      filterTable,\n      keyword\n    } = this.props; //filter on table\n\n    if (filterTable.name) {\n      tasks = tasks.filter(task => {\n        return task.name.toLowerCase().indexOf(filterTable.name.toLowerCase()) !== -1;\n      });\n    }\n\n    tasks = tasks.filter(task => {\n      if (filterTable.status === -1) {\n        return task;\n      } else {\n        return task.status === (filterTable.status === 1 ? true : false);\n      }\n    });\n    tasks = tasks.filter(task => {\n      return task.name.toLowerCase().indexOf(keyword.toLowerCase()) !== -1;\n    });\n\n    if (sort.by === 'name') {\n      tasks.sort((a, b) => {\n        if (a.name > b.name) return sort.value;else if (a.name < b.name) return -sort.value;else return 0;\n      });\n    } else {\n      tasks.sort((a, b) => {\n        if (a.status > b.status) return -sort.value;else if (a.status < b.status) return sort.value;else return 0;\n      });\n    }\n\n    var elmTasks = tasks.map((task, index) => {\n      return /*#__PURE__*/_jsxDEV(TaskItem, {\n        index: index,\n        task: task,\n        onUpdate: this.props.onUpdate\n      }, task.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 14\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-bordered table-hover\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"text-center\",\n            children: \"STT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"text-center\",\n            children: \"T\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"text-center\",\n            children: \"Tr\\u1EA1ng Th\\xE1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"text-center\",\n            children: \"H\\xE0nh \\u0110\\u1ED9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"filterName\",\n              value: filterTable.name,\n              onChange: this.onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              name: \"filterStatus\",\n              value: filterTable.status,\n              onChange: this.onChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: -1,\n                children: \"T\\u1EA5t C\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 0,\n                children: \"\\u1EA8n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 1,\n                children: \"K\\xEDch Ho\\u1EA1t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), elmTasks]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\n;\n\nconst mapStateToProps = state => {\n  return {\n    tasks: state.tasks,\n    filterTable: state.filterTable,\n    keyword: state.search,\n    sort: state.sort\n  };\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onFilterTable: filter => {\n      dispatch(actions.filterTask(filter));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskList);","map":{"version":3,"sources":["/home/ngocson/Documents/Pj2 rd/src/components/TaskList.js"],"names":["React","Component","TaskItem","connect","actions","TaskList","constructor","props","onChange","event","target","name","value","type","checked","filter","state","filterName","status","filterStatus","onFilterTable","setState","render","tasks","filterTable","keyword","task","toLowerCase","indexOf","sort","by","a","b","elmTasks","map","index","onUpdate","id","mapStateToProps","search","mapDispatchToProps","dispatch","filterTask"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TaskItem from \"./TaskItem\";\nimport {connect} from 'react-redux';\nimport * as actions from './../actions/index';\n\nclass TaskList extends Component{\n  constructor(props){\n    super(props);\n    this.state={\n      filterName:'',\n      filterStatus:-1 //all :-1, active: 1; deactive:0 \n    }\n  }\n\n  onChange=(event)=>{\n    var target = event.target;\n    var name=target.name;\n    var value=target.type==='checkbox' ? target.checked : target.value;\n    var filter={\n      name: name==='filterName' ? value : this.state.filterName,\n      status: name==='filterStatus' ? value : this.state.filterStatus\n      \n    }\n\n    this.props.onFilterTable(filter)\n\n    this.setState({\n      [name] : value\n    });\n  }\n\n  render() {\n    var  {tasks,filterTable,keyword}=this.props;\n    //filter on table\n    if(filterTable.name){\n      tasks=tasks.filter((task)=>{\n        return task.name.toLowerCase().indexOf(filterTable.name.toLowerCase()) !== -1\n      });\n    }\n    tasks=tasks.filter((task)=>{\n      if(filterTable.status === -1){\n        return task;\n      } else {\n        return task.status===(filterTable.status ===1 ? true : false);\n      }\n    })\n\n    \n    tasks=tasks.filter((task)=>{\n        return task.name.toLowerCase().indexOf(keyword.toLowerCase()) !== -1\n      \n    })\n    \n\n    if(sort.by==='name'){\n      tasks.sort((a,b)=>{\n        if(a.name > b.name) return sort.value;\n        else if(a.name < b.name) return -sort.value;\n        else return 0;\n      })\n    }else {\n      tasks.sort((a,b)=>{\n        if(a.status >b.status) return -sort.value;\n        else if(a.status<b.status ) return sort.value;\n        else return 0;\n      })\n    }\n    \n    var elmTasks=tasks.map((task,index)=>{\n      return <TaskItem key={task.id} index={index} task={task}\n      onUpdate={this.props.onUpdate}\n      />\n    })\n\n    return (\n\n      <table className=\"table table-bordered table-hover\">\n        <thead>\n          <tr>\n            <th className=\"text-center\">STT</th>\n            <th className=\"text-center\">Tên</th>\n            <th className=\"text-center\">Trạng Thái</th>\n            <th className=\"text-center\">Hành Động</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td />\n            <td>\n              <input type=\"text\" className=\"form-control\"\n              name=\"filterName\"\n              value={filterTable.name}\n              onChange={this.onChange} />\n            </td>\n            <td>\n              <select className=\"form-control\"\n                name=\"filterStatus\"\n                value={filterTable.status}\n                onChange={this.onChange}\n              >\n                <option value={-1}>Tất Cả</option>\n                <option value={0}>Ẩn</option>\n                <option value={1}>Kích Hoạt</option>\n              </select>\n            </td>\n            <td />\n          </tr>\n          {elmTasks}\n        </tbody>\n</table>  \n\n          );\n  };\n}; \n\nconst mapStateToProps = (state) =>{\n    return { \n      tasks: state.tasks,\n      filterTable:state.filterTable,\n      keyword:state.search,\n      sort: state.sort\n    }\n};\n\nconst mapDispatchToProps =(dispatch,props)=>{\n  return{\n    onFilterTable:(filter)=>{\n      dispatch(actions.filterTask(filter));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskList);\n"]},"metadata":{},"sourceType":"module"}