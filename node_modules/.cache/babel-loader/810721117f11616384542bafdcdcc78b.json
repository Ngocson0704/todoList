{"ast":null,"code":"import _objectSpread from\"/home/ngocson/Documents/Pj2 rd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/ngocson/Documents/Pj2 rd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import*as types from'./../constants/ActionTypes';var s4=function s4(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);};var randomID=function randomID(){return s4()+s4()+'-'+s4()+'-'+s4()+'-'+s4()+'-'+s4()+s4()+s4();};var findIndex=function findIndex(tasks,id){var result=-1;tasks.forEach(function(task,index){if(task.id===id){result=index;}});return result;};var data=JSON.parse(localStorage.getItem('tasks'));var initialState=data?data:[];var myReducer=function myReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case types.LIST_ALL:return state;case types.SAVE_TASK:var task={id:action.task.id,name:action.task.name,status:action.task.status===true?true:false};if(!task.id){task.id=randomID();state.push(task);}else{index=findIndex(state,task.id);state[index]=task;}localStorage.setItem('tasks',JSON.stringify(state));return _toConsumableArray(state);case types.UPDATE_STATUS_TASK:var id=action.id;var index=findIndex(state,id);state[index]=_objectSpread(_objectSpread({},state[index]),{},{status:!state[index].status});localStorage.setItem('tasks',JSON.stringify(state));return _toConsumableArray(state);case types.DELETE_TASK:var id=action.id;var index=findIndex(state,id);state.splice(index,1);localStorage.setItem('tasks',JSON.stringify(state));return _toConsumableArray(state);default:return state;}};export default myReducer;","map":{"version":3,"sources":["/home/ngocson/Documents/Pj2 rd/src/reducers/tasks.js"],"names":["types","s4","Math","floor","random","toString","substring","randomID","findIndex","tasks","id","result","forEach","task","index","data","JSON","parse","localStorage","getItem","initialState","myReducer","state","action","type","LIST_ALL","SAVE_TASK","name","status","push","setItem","stringify","UPDATE_STATUS_TASK","DELETE_TASK","splice"],"mappings":"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","sourcesContent":["\nimport * as types from './../constants/ActionTypes';\n\nvar s4=()=>{\n    return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);\n  };\n\nvar randomID=()=>{\n    return s4()+s4()+'-'+s4()+'-'+s4()+'-'+s4()+'-'+s4()+s4()+s4();\n  };\n\nvar findIndex=(tasks,id)=>{\n    var result = -1;\n    tasks.forEach((task,index)=>{\n      if(task.id===id){\n          result=index;    \n        }\n    });\n    return result;\n\n  }\n\nvar data= JSON.parse(localStorage.getItem('tasks'));\nvar initialState = data ? data : [];\n\nvar myReducer = (state = initialState, action) =>{\n    switch(action.type){\n        case types.LIST_ALL:\n            return state;\n        case types.SAVE_TASK:\n            var task={\n                id:action.task.id,\n                name: action.task.name,\n                status: action.task.status === true ? true : false\n            };\n            if(!task.id){\n                task.id=randomID();\n                state.push(task);\n            } else {\n                index=findIndex(state,task.id);\n                state[index]=task;\n            }\n            localStorage.setItem('tasks', JSON.stringify(state));\n            return [...state];\n        case types.UPDATE_STATUS_TASK:\n            var id = action.id\n            var index =findIndex(state, id);\n            state[index]={\n                ...state[index],\n                status:!state[index].status\n            }\n            localStorage.setItem('tasks', JSON.stringify(state));\n            return [...state];\n        case types.DELETE_TASK:\n            var id=action.id;\n            var index = findIndex(state,id);\n            state.splice(index,1);\n            localStorage.setItem('tasks', JSON.stringify(state));\n            return[...state];\n        default:\n            return state;\n    }\n};\n\nexport default myReducer;"]},"metadata":{},"sourceType":"module"}