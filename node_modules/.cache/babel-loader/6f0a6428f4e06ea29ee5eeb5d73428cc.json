{"ast":null,"code":"import _defineProperty from\"/home/ngocson/Documents/Pj2 rd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/ngocson/Documents/Pj2 rd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ngocson/Documents/Pj2 rd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/ngocson/Documents/Pj2 rd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ngocson/Documents/Pj2 rd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import TaskItem from\"./TaskItem\";import{connect}from'react-redux';import*as actions from'./../actions/index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TaskList=/*#__PURE__*/function(_Component){_inherits(TaskList,_Component);var _super=_createSuper(TaskList);function TaskList(props){var _this;_classCallCheck(this,TaskList);_this=_super.call(this,props);_this.onChange=function(event){var target=event.target;var name=target.name;var value=target.type==='checkbox'?target.checked:target.value;var filter={name:name==='filterName'?value:_this.state.filterName,status:name==='filterStatus'?value:_this.state.filterStatus};_this.props.onFilterTable(filter);_this.setState(_defineProperty({},name,value));};_this.state={filterName:'',filterStatus:-1//all :-1, active: 1; deactive:0 \n};return _this;}_createClass(TaskList,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,tasks=_this$props.tasks,filterTable=_this$props.filterTable,keyword=_this$props.keyword,sort=_this$props.sort;//filter on table\nif(filterTable.name){tasks=tasks.filter(function(task){return task.name.toLowerCase().indexOf(filterTable.name.toLowerCase())!==-1;});}tasks=tasks.filter(function(task){if(filterTable.status===-1){return task;}else{return task.status===(filterTable.status===1?true:false);}});tasks=tasks.filter(function(task){return task.name.toLowerCase().indexOf(keyword.toLowerCase())!==-1;});if(sort.by==='name'){tasks.sort(function(a,b){if(a.name>b.name)return sort.value;else if(a.name<b.name)return-sort.value;else return 0;});}else{tasks.sort(function(a,b){if(a.status>b.status)return-sort.value;else if(a.status<b.status)return sort.value;else return 0;});}var elmTasks=tasks.map(function(task,index){return/*#__PURE__*/_jsx(TaskItem,{index:index,task:task,onUpdate:_this2.props.onUpdate},task.id);});return/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"STT\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"T\\xEAn\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Tr\\u1EA1ng Th\\xE1i\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"H\\xE0nh \\u0110\\u1ED9ng\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"filterName\",value:filterTable.name,onChange:this.onChange})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",name:\"filterStatus\",value:filterTable.status,onChange:this.onChange,children:[/*#__PURE__*/_jsx(\"option\",{value:-1,children:\"T\\u1EA5t C\\u1EA3\"}),/*#__PURE__*/_jsx(\"option\",{value:0,children:\"\\u1EA8n\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"K\\xEDch Ho\\u1EA1t\"})]})}),/*#__PURE__*/_jsx(\"td\",{})]}),elmTasks]})]});}}]);return TaskList;}(Component);;var mapStateToProps=function mapStateToProps(state){return{tasks:state.tasks,filterTable:state.filterTable,keyword:state.search,sort:state.sort};};var mapDispatchToProps=function mapDispatchToProps(dispatch,props){return{onFilterTable:function onFilterTable(filter){dispatch(actions.filterTask(filter));}};};export default connect(mapStateToProps,mapDispatchToProps)(TaskList);","map":{"version":3,"sources":["/home/ngocson/Documents/Pj2 rd/src/components/TaskList.js"],"names":["React","Component","TaskItem","connect","actions","TaskList","props","onChange","event","target","name","value","type","checked","filter","state","filterName","status","filterStatus","onFilterTable","setState","tasks","filterTable","keyword","sort","task","toLowerCase","indexOf","by","a","b","elmTasks","map","index","onUpdate","id","mapStateToProps","search","mapDispatchToProps","dispatch","filterTask"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TaskItem from \"./TaskItem\";\nimport {connect} from 'react-redux';\nimport * as actions from './../actions/index';\n\nclass TaskList extends Component{\n  constructor(props){\n    super(props);\n    this.state={\n      filterName:'',\n      filterStatus:-1 //all :-1, active: 1; deactive:0 \n    }\n  }\n\n  onChange=(event)=>{\n    var target = event.target;\n    var name=target.name;\n    var value=target.type==='checkbox' ? target.checked : target.value;\n    var filter={\n      name: name==='filterName' ? value : this.state.filterName,\n      status: name==='filterStatus' ? value : this.state.filterStatus\n      \n    }\n    this.props.onFilterTable(filter)\n\n    this.setState({\n      [name] : value\n    });\n  }\n\n  render() {\n    var  {tasks,filterTable,keyword,sort}=this.props;\n    //filter on table\n    if(filterTable.name){\n      tasks=tasks.filter((task)=>{\n        return task.name.toLowerCase().indexOf(filterTable.name.toLowerCase()) !== -1\n      });\n    }\n    tasks=tasks.filter((task)=>{\n      if(filterTable.status === -1){\n        return task;\n      } else {\n        return task.status===(filterTable.status ===1 ? true : false);\n      }\n    })\n\n    \n    tasks=tasks.filter((task)=>{\n        return task.name.toLowerCase().indexOf(keyword.toLowerCase()) !== -1\n      \n    })\n    \n\n    if(sort.by==='name'){\n      tasks.sort((a,b)=>{\n        if(a.name > b.name) return sort.value;\n        else if(a.name < b.name) return -sort.value;\n        else return 0;\n      })\n    }else {\n      tasks.sort((a,b)=>{\n        if(a.status >b.status) return -sort.value;\n        else if(a.status<b.status ) return sort.value;\n        else return 0;\n      })\n    }\n\n    var elmTasks=tasks.map((task,index)=>{\n      return <TaskItem key={task.id} index={index} task={task}\n      onUpdate={this.props.onUpdate}\n      />\n    })\n\n    return (\n\n      <table className=\"table table-bordered table-hover\">\n        <thead>\n          <tr>\n            <th className=\"text-center\">STT</th>\n            <th className=\"text-center\">Tên</th>\n            <th className=\"text-center\">Trạng Thái</th>\n            <th className=\"text-center\">Hành Động</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td />\n            <td>\n              <input type=\"text\" className=\"form-control\"\n              name=\"filterName\"\n              value={filterTable.name}\n              onChange={this.onChange} />\n            </td>\n            <td>\n              <select className=\"form-control\"\n                name=\"filterStatus\"\n                value={filterTable.status}\n                onChange={this.onChange}\n              >\n                <option value={-1}>Tất Cả</option>\n                <option value={0}>Ẩn</option>\n                <option value={1}>Kích Hoạt</option>\n              </select>\n            </td>\n            <td />\n          </tr>\n          {elmTasks}\n        </tbody>\n</table>  \n\n          );\n  };\n}; \n\nconst mapStateToProps = (state) =>{\n    return { \n      tasks: state.tasks,\n      filterTable:state.filterTable,\n      keyword:state.search,\n      sort: state.sort\n    }\n};\n\nconst mapDispatchToProps =(dispatch,props)=>{\n  return{\n    onFilterTable:(filter)=>{\n      dispatch(actions.filterTask(filter));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskList);\n"]},"metadata":{},"sourceType":"module"}